<html>
<head>
  <title>ELP Server</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
</head>
<body>
  <div>
    <nav class="navbar navbar-inverse navbar-static-top">
      <div class="container">
        <a class="navbar-brand" href="/">ELP Server</a>
      </div>
    </nav>
    <div class="jumbotron"  style="padding:40px;">
      <h3>Public API:</h3>
      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <th>Method</th>
            <th>API:</th>
            <th>Params</th>
            <th>Returns</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>GET</td>
            <td>/api/users</td>
            <td>
              <code>
              /
              </code>
            </td>
            <td>
              <code>
              [{_id: ObjectID,<br> username: string,<br> email: string,<br> registrationTime: Date},<br> ...]
              </code>
            </td>
          </tr>
          <tr>
            <td>POST</td>
            <td>/api/signup</td>
            <td>
              USER
              <code>
              {<br>
                username:         {type: String, required: true},<br>
                email:            {type: String, required: true},<br>
                password:         {type: String, required: true},<br>
                registrationTime: {type: Date, default: Date.now},<br>
                registrationType: String,<br>
                accountType:      String,<br>
                location:         Schema.Types.Mixed,<br>
                map:              String<br>
              }
              </code>

            </td>
            <td>
              <code>
                {<br>
                  user: USER<br>
                  success: boolean,<br>
                  message: string,<br>
                  token<br>
                }
              </code>
            </td>
          </tr>

          <tr>
            <td>POST</td>
            <td>/api/login</td>
            <td>
              <code>
              {<br>
                username:         {type: String, required: true},<br>
                password:         {type: String, required: true},<br>
              }
              </code>
            </td>
            <td>
              <code>
                {<br>
                  success: boolean,<br>
                  message: string,<br>
                  token<br>
                }
              </code>
            </td>
          </tr>

          <tr>
            <td colspan=4 style='background-color: #008080; font-weight: 700;'>Next requests should be made with token!</td>
          </tr>
          
          <tr>
            <td>POST</td>
            <td>/api/upload</td>
            <td>
              <code>
              File should be uploaded
              </code>
            </td>
            <td>
              <code>
                {<br>
                  success: boolean,<br>
                  message: string<br>
                }
              </code>
            </td>
          </tr>

          <tr>
            <td>DELETE</td>
            <td>/api/user/:id</td>
            <td>
              <code>
              { _id: ObjectID }
              </code>
            </td>
            <td>
              <code>
                {<br>
                  success: boolean,<br>
                  id: user._id<br>
                }
              </code>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  
  <div>
    <h2>Try with curl:</h2>
    <p><strong>GET:</strong><br>  
    <code>curl http://localhost:9999/api/users</code>
    </p>
    <p><strong>POST:</strong><br>  
    <code>curl -d username=Rosty -d email=Rosty@gmail.com -d password=rosty123 http://localhost:9999/api/signup</code>
    </p>

    <p>
    <h4><i>Set token:</i></h4>
    <code>curl -H "x-access-token: &lt;token goes here&gt;" http://localhost:9999</code>
    </p>

    <h4>Following requests only with token:</h4>
    <p>
    <strong>Upload file:</strong> <br>
    <code>curl -F name=someName -F file=@README.md  http://localhost:9999/api/upload</code><br>
    <strong>DELETE:</strong> <br>
    <code>curl -X DELETE http://localhost:9999/api/user/58d19e770bf1c112486b</code>
    </p>
  </div>
</body>
</html>
